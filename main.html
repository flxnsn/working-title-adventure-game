<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moth</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="postprocessing.css">
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" id="page-svg" width="70%" height="200%">
  <defs>
    <!-- Displacement filter using your embedded Mask.png -->
    <filter id="barrel" x="-200%" y="-200%" width="400%" height="400%" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <!-- embedded image avoids cross-origin problems -->
      <feImage href="FilterMap.png" result="map" x="0" y="0" width="100%" height="100%" preserveAspectRatio="none"/><!-- Try an obvious scale so the effect is apparent -->
      <feDisplacementMap in="SourceGraphic" in2="map" scale="50" xChannelSelector="R" yChannelSelector="G"/>
    </filter>

    <!-- helper pattern (grid) so distortion is visible -->
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect width="20" height="20" fill="#fff"/>
      <path d="M0 0 L20 0 M0 0 L0 20" stroke="#111" stroke-width="0.6"/>
    </pattern>
  </defs>
  
    <foreignObject x="0" y="0" width="100%" height="100%" filter="url(#barrel)">
      <!-- Give the inner HTML container an id so JS can find it -->
      <div class="game-container">
        <h1>Current Screen</h1>

        <!-- ASCII Art Display Area -->
        <textarea id="asciiDisplay" class="display" readonly></textarea>

        <!-- Player Information Panel -->
        <textarea id="infoPanel" class="info-panel" readonly></textarea>

        <!-- Player Input Field -->
        <div class="input-container">
          <textarea id="playerInput" class="input-field" placeholder="Input..."></textarea>
        </div>
      </div>
    </foreignObject>

</svg>

  <script src="js\transitions.js"></script>
  <script src="js\updatedisplay.js"></script>
  <script src="js\updateinfo.js"></script>
  <script src="js\inputhandling.js"></script>
  <script src="js\soundmanager.js"></script>
  <script src="js\main.js"></script>

</body>

</html>